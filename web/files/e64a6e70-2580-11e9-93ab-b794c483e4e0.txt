<model appid="e64a6e70-2580-11e9-93ab-b794c483e4e0">
<Data>
<json>{"_id":"5ca4c16348f482cc1651e2d4","imageUrl":"/resources/editor/assets/images/logos/testing.png","type":"AireMadrid","protocol":"http://","url":"http://www.mambiente.madrid.es/opendata/horario.txt","description":"Información del aire de Madrid por estaciones. +Info https://datos.madrid.es/FWProjects/egob/Catalogo/MedioAmbiente/Aire/Ficheros/Interprete_ficheros_%20calidad_%20del_%20aire_global.pdf","name":"Datos Aire Madrid","rate":"180000","__v":0,"auth":[null],"values":[{"type":"string","ruta":"01","name":"Dioxido de Azufre (ug/m)","check":"false"},{"type":"string","ruta":"12","name":"Oxidos de Nitrogeno","check":"false"},{"type":"string","ruta":"14","name":"Ozono","check":"false"},{"type":"string","ruta":"06","name":"Monoxido de Carbono","check":"false"},{"type":"string","ruta":"07","name":"Monoxido de Nitrogeno","check":"false"},{"type":"string","ruta":"08","name":"Dioxido de Nitrogeno","check":"true"}],"params":[{"description":"Código de la estación meteorológica de Madrid. Ej: 28079016 (Arturo Soria)","example":"28079016","name":"Código","type":"string","value":"28079016"}],"model":"shape_DataSource","connections":[{"id":2}],"connectionsOut":[],"id":1,"nameId":"1","dataShape":{"type":"shape_DataSource","id":1,"x":93.00001525878906,"y":114.00285339355469,"width":100,"height":100,"alpha":1,"angle":0,"userData":{},"cssClass":"draw2d_SetFigure","bgColor":"none","color":"#1B1B1B","stroke":0,"radius":0,"dasharray":null,"name":"Datos Aire Madrid"}}</json>
<type>AireMadrid</type>
</Data>
<Data>
<json>{"name":"Pipeline Merge Data","imageUrl":"/resources/editor/assets/images/logos/monitor2.png","type":"PipelineSimple","model":"shape_Pipeline","connections":[{"id":1}],"connectionsOut":[{"id":3}],"id":2,"nameId":2,"dataShape":{"type":"shape_Pipeline","id":2,"x":380.00001525878906,"y":202.0028533935547,"width":100,"height":100,"alpha":1,"angle":0,"userData":{},"cssClass":"draw2d_SetFigure","bgColor":"none","color":"#1B1B1B","stroke":0,"radius":0,"dasharray":null,"name":"Pipeline Merge Data"}}</json>
<type>PipelineSimple</type>
</Data>
<Data>
<json>{"name":"Custom Processor","imageUrl":"/resources/editor/assets/images/logos/custom-processor-icon2.png","type":"CustomProcessor","model":"shape_CustomProcessor","connections":[{"id":2}],"connectionsOut":[],"id":3,"nameId":"3","nameProcessor":"Publicar tweets","fieldToFilter":"1: Dioxido de Nitrogeno","fieldReductor":false,"parameters":[{"paramType":"String","name":"CONSUMER_KEY","value":"Usw6RrcjrszXzzhukeVtQbpJt","_id":"5cf6a87bae34bfd420e4e38c"},{"paramType":"String","name":"CONSUMER_SECRET","value":"GxzfBb0OkLPXtRGi5n9qIDPB8lct1zUk9mmLIfMu8ae7u2eWPF","_id":"5cf6a87bae34bfd420e4e38b"},{"paramType":"String","name":"ACCESS_TOKEN","value":"1135539195919949824-ajOIi3lnspiN9dW3IsLkLzCxpoiVTs","_id":"5cf6a87bae34bfd420e4e38a"},{"paramType":"String","name":"ACCESS_TOKEN_SECRET","value":"UEHfuLHZlkXaeN7ZgFMHG9p8tyXGmlYFr6KAw3HRP8JcS","_id":"5cf6a87bae34bfd420e4e389"},{"paramType":"String","name":"nombreEstacion","value":"Arturo Soria","_id":"5cf6a87bae34bfd420e4e388"}],"codeProcessor":"%7B%0D%0A%20%20%20%20Calendar%20cal%20%3D%20Calendar.getInstance()%3B%0D%0A%20%20%20%20Date%20date%20%3D%20cal.getTime()%3B%0D%0A%20%20%20%20DateFormat%20dateFormat%20%3D%20new%20SimpleDateFormat(%22HH%3Amm%3Ass%22)%3B%0D%0A%20%20%20%20String%20formattedDate%20%3D%20dateFormat.format(date)%3B%0D%0A%20%20%20%20String%20msg%20%3D%20%22El%20dioxido%20de%20Nitrogeno%20en%20la%20estacion%20%22%20%2B%20nombreEstacion%20%2B%20%22%20es%20%22%20%2B%20data%20%2B%20%22%20%20a%20las%20%22%20%2B%20formattedDate%3B%0D%0A%20%20%20%20StatusUpdate%20status%3B%0D%0A%20%20%20%20Twitter%20twitter%3B%0D%0A%20%20%20%20%2F%2F%20String%20CONSUMER_KEY%20%3D%20%22Usw6RrcjrszXzzhukeVtQbpJt%22%3B%0D%0A%20%20%20%20%2F%2F%20String%20CONSUMER_SECRET%20%3D%20%22GxzfBb0OkLPXtRGi5n9qIDPB8lct1zUk9mmLIfMu8ae7u2eWPF%22%3B%0D%0A%20%20%20%20%2F%2F%20String%20ACCESS_TOKEN%20%3D%20%221135539195919949824-ajOIi3lnspiN9dW3IsLkLzCxpoiVTs%22%3B%0D%0A%20%20%20%20%2F%2F%20String%20ACCESS_TOKEN_SECRET%20%3D%20%22UEHfuLHZlkXaeN7ZgFMHG9p8tyXGmlYFr6KAw3HRP8JcS%22%3B%0D%0A%20%20%20%20String%20key%20%3D%20CONSUMER_KEY%3B%0D%0A%20%20%20%20String%20secret%20%3D%20CONSUMER_SECRET%3B%0D%0A%20%20%20%20String%20token%20%3D%20ACCESS_TOKEN%3B%0D%0A%20%20%20%20String%20token_secret%20%3D%20ACCESS_TOKEN_SECRET%3B%0D%0A%20%20%20%20ConfigurationBuilder%20cb%20%3D%20new%20ConfigurationBuilder()%3B%0D%0A%20%20%20%20cb.setDebugEnabled(true).setOAuthConsumerKey(key).setOAuthConsumerSecret(secret).setOAuthAccessToken(token).setOAuthAccessTokenSecret(token_secret)%3B%0D%0A%20%20%20%20Configuration%20conf%20%3D%20cb.build()%3B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20TwitterFactory%20tf%20%3D%20new%20TwitterFactory(conf)%3B%0D%0A%20%20%20%20%20%20%20%20twitter%20%3D%20tf.getInstance()%3B%0D%0A%20%20%20%20%20%20%20%20twitter.verifyCredentials()%3B%0D%0A%20%20%20%20%20%20%20%20int%20id%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20if%20(id%20!%3D%20-1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(msg.length()%20%3E%20280)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20msg%20%3D%20msg.substring(0%2C%20275)%20%2B%20%22...%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20status%20%3D%20new%20StatusUpdate(msg)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20status.setInReplyToStatusId(id)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(msg.length()%20%3E%20280)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20msg%20%3D%20msg.substring(0%2C%20275)%20%2B%20%22...%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20status%20%3D%20new%20StatusUpdate(msg)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20twitter.updateStatus(status)%3B%0D%0A%20%20%20%20%7D%20catch%20(TwitterException%20ex)%20%7B%0D%0A%20%20%20%20%20%20%20%20System.out.println(%22Error%3A%20%22%20%2B%20ex.getMessage())%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20data%3B%0D%0A%7D","dataShape":{"type":"shape_CustomProcessor","id":3,"x":618.0000152587891,"y":255.0028533935547,"width":100,"height":100,"alpha":1,"angle":0,"userData":{},"cssClass":"draw2d_SetFigure","bgColor":"none","color":"#1B1B1B","stroke":0,"radius":0,"dasharray":null,"name":"Custom Processor"}}</json>
<type>CustomProcessor</type>
</Data>
<Data>
<json>{"type":"Connection","id":"447dff5b-2091-0d36-5ca4-c5518d6af9a9","alpha":1,"angle":0,"userData":{},"cssClass":"Connection","stroke":4.5,"color":"#0078F2","outlineStroke":0,"outlineColor":"none","policy":"ConnectionSelectionFeedbackPolicy","vertex":[{"x":470.00001525878906,"y":252.0028533935547},{"x":615.1000152587891,"y":300.0028533935547}],"router":"ConnectionRouter","radius":2,"routingMetaData":{"routedByUserInteraction":true,"fromDir":1,"toDir":3},"source":{"node":2,"port":"PortPipelineOut"},"target":{"node":3,"port":"PortProcessorIn","decoration":"draw2d.decoration.connection.DiamondDecorator"},"labels":[]}</json>
<type>Connection</type>
</Data>
<Data>
<json>{"type":"Connection","id":"0a4b1fbf-9a09-67dc-9d75-96920ed5d986","alpha":1,"angle":0,"userData":{},"cssClass":"Connection","stroke":4.5,"color":"#0078F2","outlineStroke":0,"outlineColor":"none","policy":"ConnectionSelectionFeedbackPolicy","vertex":[{"x":183.00001525878906,"y":164.0028533935547},{"x":377.1000152587891,"y":247.0028533935547}],"router":"ConnectionRouter","radius":2,"routingMetaData":{"routedByUserInteraction":true,"fromDir":1,"toDir":3},"source":{"node":1,"port":"PortDataOut"},"target":{"node":2,"port":"PortPipelineIn","decoration":"draw2d.decoration.connection.DiamondDecorator"},"labels":[]}</json>
<type>Connection</type>
</Data>
</model>